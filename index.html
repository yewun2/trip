<!DOCTYPE html>
<html lang="ko">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>ê°•ë¦‰ ìœ¡ê°í˜• íŠ¸ë¦½ (Hexa-Trip)</title>
Â  Â  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
Â  Â Â 
Â  Â  <style>
Â  Â  Â  Â  /* ìŠ¤íƒ€ì¼ ì •ì˜ */
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, sans-serif;
Â  Â  Â  Â  Â  Â  background-color: #f0f2f5;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  height: 100vh;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  }
Â  Â  Â  Â  #app-container {
Â  Â  Â  Â  Â  Â  width: 400px;
Â  Â  Â  Â  Â  Â  height: 800px;
Â  Â  Â  Â  Â  Â  background-color: #fff;
Â  Â  Â  Â  Â  Â  border-radius: 20px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 10px 25px rgba(0,0,0,0.1);
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  }
Â  Â  Â  Â  #header {
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #03C75A 0%, #008f3d 100%);
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  font-size: 1.2rem;
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  }
Â  Â  Â  Â  #lang-btn {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  right: 15px; top: 50%; transform: translateY(-50%);
Â  Â  Â  Â  Â  Â  background: rgba(255, 255, 255, 0.2);
Â  Â  Â  Â  Â  Â  border: 1px solid rgba(255, 255, 255, 0.4);
Â  Â  Â  Â  Â  Â  color: white; font-size: 0.8rem; padding: 5px 10px;
Â  Â  Â  Â  Â  Â  border-radius: 15px; cursor: pointer;
Â  Â  Â  Â  }
Â  Â  Â  Â  #chat-box {
Â  Â  Â  Â  Â  Â  flex: 1;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  Â  Â  overflow-y: auto;
Â  Â  Â  Â  Â  Â  background-color: #f8f9fa;
Â  Â  Â  Â  }
Â  Â  Â  Â  .message {
Â  Â  Â  Â  Â  Â  max-width: 85%;
Â  Â  Â  Â  Â  Â  padding: 12px 16px; margin-bottom: 12px;
Â  Â  Â  Â  Â  Â  border-radius: 15px; line-height: 1.4; font-size: 0.95rem;
Â  Â  Â  Â  Â  Â  animation: popIn 0.3s;
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
Â  Â  Â  Â  .bot-message { background-color: #e9ecef; color: #333; align-self: flex-start; border-bottom-left-radius: 2px; }
Â  Â  Â  Â  .user-message { background-color: #03C75A; color: white; align-self: flex-end; margin-left: auto; border-bottom-right-radius: 2px; text-align: right; }

Â  Â  Â  Â  #input-area {
Â  Â  Â  Â  Â  Â  background-color: #fff; padding: 20px; border-top: 1px solid #eee;
Â  Â  Â  Â  Â  Â  display: flex; flex-direction: column; gap: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .slider-labels { display: flex; justify-content: space-between; font-size: 0.8rem; font-weight: bold; color: #666; }
Â  Â  Â  Â  .slider-value { text-align: center; font-size: 1.5rem; font-weight: 800; color: #03C75A; margin: 5px 0; }
Â  Â  Â  Â  input[type=range] { width: 100%; cursor: pointer; accent-color: #03C75A; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  #send-btn {
Â  Â  Â  Â  Â  Â  background-color: #03C75A; color: white; border: none; padding: 14px;
Â  Â  Â  Â  Â  Â  border-radius: 12px; cursor: pointer; font-weight: bold; font-size: 1rem; margin-top: 5px;
Â  Â  Â  Â  }

Â  Â  Â  Â  #action-area {
Â  Â  Â  Â  Â  Â  display: none; padding: 15px; background: #fff; text-align: center; border-top: 1px solid #eee;
Â  Â  Â  Â  }
Â  Â  Â  Â  .action-btn {
Â  Â  Â  Â  Â  Â  padding: 12px 20px; border-radius: 10px; border: none; font-weight: bold;
Â  Â  Â  Â  Â  Â  cursor: pointer; margin: 0 5px; font-size: 0.9rem;
Â  Â  Â  Â  }
Â  Â  Â  Â  .btn-yes { background-color: #03C75A; color: white; }
Â  Â  Â  Â  .btn-no { background-color: #e9ecef; color: #333; }

Â  Â  Â  Â  #chart-wrapper {
Â  Â  Â  Â  Â  Â  display: none; background: #fff; padding: 15px; border-radius: 15px;
Â  Â  Â  Â  Â  Â  margin-top: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.05);
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ë²„íŠ¼ ê·¸ë£¹ ìŠ¤íƒ€ì¼ */
Â  Â  Â  Â  .btn-group {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  gap: 5px;
Â  Â  Â  Â  Â  Â  margin-top: 8px;
Â  Â  Â  Â  Â  Â  margin-bottom: 8px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .link-btn {
Â  Â  Â  Â  Â  Â  flex: 1;
Â  Â  Â  Â  Â  Â  padding: 10px 0;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  font-size: 0.85rem;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  text-decoration: none;
Â  Â  Â  Â  Â  Â  transition: 0.2s;
Â  Â  Â  Â  Â  Â  border: 1px solid #ddd;
Â  Â  Â  Â  }
Â  Â  Â  Â  .map-btn { background-color: #fff; color: #03C75A; border-color: #03C75A; }
Â  Â  Â  Â  .map-btn:hover { background-color: #03C75A; color: white; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .photo-btn { background-color: #fff; color: #555; }
Â  Â  Â  Â  .photo-btn:hover { background-color: #f1f3f5; color: #333; }

Â  Â  Â  Â  /* [ì¶”ê°€] ê²°ê³¼ ëŒ€í‘œ ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ */
Â  Â  Â  Â  .result-main-img {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 220px;Â  Â  Â  Â /* ë†’ì´ë¥¼ ì‚´ì§ í‚¤ì›Œ ì‹œì›í•˜ê²Œ ë³´ì—¬ì¤ë‹ˆë‹¤ */
Â  Â  Â  Â  Â  Â  object-fit: cover;Â  Â /* ì¤‘ìš”: ë¹„ìœ¨ ìœ ì§€í•˜ë©° ê½‰ ì±„ìš°ê¸° */
Â  Â  Â  Â  Â  Â  border-radius: 15px;
Â  Â  Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(0,0,0,0.2); /* ê·¸ë¦¼ìë„ ì¢€ ë” ì§„í•˜ê²Œ */
Â  Â  Â  Â  Â  Â  animation: popIn 0.5s;
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>

<div id="app-container">
Â  Â  <div id="header">
Â  Â  Â  Â  <span id="header-title">ğŸ”® ìœ¡ê°í˜• ì—¬í–‰ ìƒì„±ê¸°</span>
Â  Â  Â  Â  <button id="lang-btn" onclick="toggleLanguage()">ğŸ‡ºğŸ‡¸ EN</button>
Â  Â  </div>
Â  Â Â 
Â  Â  <div id="chat-box"></div>
Â  Â Â 
Â  Â  <div id="input-area">
Â  Â  Â  Â  <div class="slider-value"><span id="current-val">5</span></div>
Â  Â  Â  Â  <div class="slider-labels">
Â  Â  Â  Â  Â  Â  <span id="label-left">Left</span>
Â  Â  Â  Â  Â  Â  <span id="label-right">Right</span>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <input type="range" id="range-slider" min="1" max="10" value="5" oninput="updateDisplay(this.value)">
Â  Â  Â  Â  <button id="send-btn" onclick="submitAnswer()">ì„ íƒ ì™„ë£Œ</button>
Â  Â  </div>

Â  Â  <div id="action-area">
Â  Â  Â  Â  <button class="action-btn btn-yes" onclick="recommendPlan()">ğŸ‘ Yes, Please!</button>
Â  Â  Â  Â  <button class="action-btn btn-no" onclick="location.reload()">ğŸ”„ Retry</button>
Â  Â  </div>
</div>

<script>
Â  Â  // -----------------------------------------------------------
Â  Â  // [ë°ì´í„° 1] ê²°ê³¼ ìœ í˜•ë³„ ëŒ€í‘œ ì´ë¯¸ì§€ (ë³€ìˆ˜ ë¶„ë¦¬ ì™„ë£Œ)
Â  Â  // -----------------------------------------------------------
Â  Â  const typeImages = {
Â  Â  Â  Â  "ë„ì‹œ í•«í”Œ íˆ¬ì–´ëŸ¬": "https://i.postimg.cc/NLZR9DBz/dosi-haspeul-tueoleo.jpg",
Â  Â  Â  Â  "ìµìŠ¤íŠ¸ë¦¼ ì•¡í‹°ë¹„í‹° ëŸ¬ë²„": "https://i.postimg.cc/PN01pydG/igseuteulim-aegtibiti-leobeo.jpg",
Â  Â  Â  Â  "ë¯¸ìŠë­ ê°€ì´ë“œ ë¯¸ì‹ê°€": "https://i.postimg.cc/V5JjkpP1/misyullaeng-gaideu-misigga.jpg",
Â  Â  Â  Â  "ì¸ì‹¸ íŒŒí‹° í”¼í”Œ": "https://i.postimg.cc/9zsyRbcj/inssa-pati-pipeul.jpg",
Â  Â  Â  Â  "ë“œë¼ì´ë¸Œ ë§ˆìŠ¤í„°": "https://i.postimg.cc/Z0Wr52zz/deulaibeu-maseuteo.jpg",
Â  Â  Â  Â  "ë‚˜ë…¸ ë‹¨ìœ„ ê³„íšëŸ¬": "https://i.postimg.cc/w31hjZ8b/nano-dan-wi-gyehoegleo.jpg",
Â  Â  Â  Â  "ì—¬ìœ ë¡œìš´ íë§ ìš”ì •": "https://i.postimg.cc/YjTQGRtq/yeoyuloun-hilling-yojeong.png"
Â  Â  };

Â  Â  // -----------------------------------------------------------
Â  Â  // [ë°ì´í„° 2] ê°•ë¦‰ ì—¬í–‰ì§€ ì¶”ì²œ ë°ì´í„°
Â  Â  // -----------------------------------------------------------
Â  Â  const recommendationData = {
Â  Â  Â  Â  "ë„ì‹œ í•«í”Œ íˆ¬ì–´ëŸ¬": [
Â  Â  Â  Â  Â  Â  { name: "í—ˆê· Â·í—ˆë‚œì„¤í—Œ ê¸°ë…ê³µì›", type: "ëª…ì†Œ", desc: "ì¡°ì„ ì‹œëŒ€ ë¬¸ì¸ì˜ ìˆ¨ê²°ì„ ëŠë‚„ ìˆ˜ ìˆëŠ” ë„ì‹¬ ì† íë§ ê³µì›" },
Â  Â  Â  Â  Â  Â  { name: "ì£¼ë¬¸ì§„í•­", type: "ëª…ì†Œ", desc: "í™œê¸°ì°¬ ë™í•´ì•ˆì˜ ëŒ€í‘œ í•­êµ¬ì™€ ì˜¤ì§•ì–´ ë™ìƒ" },
Â  Â  Â  Â  Â  Â  { name: "ê°•ë¦‰ì¹´í˜ê±°ë¦¬", type: "í•«í”Œ", desc: "ë°”ë‹¤ ë°”ë¡œ ì• ì¹´í˜ë“¤ì´ ì¤„ì§€ì–´ ì„  ê±°ë¦¬" },Â 
Â  Â  Â  Â  Â  Â  { name: "ê³ ë˜ì±…ë°©", type: "ë¬¸í™”", desc: "ë¹µ êµ½ëŠ” ëƒ„ìƒˆê°€ ë‚˜ëŠ” ë”°ëœ»í•œ ì„œì " }Â 
Â  Â  Â  Â  ],
Â  Â  Â  Â  "ìµìŠ¤íŠ¸ë¦¼ ì•¡í‹°ë¹„í‹° ëŸ¬ë²„": [
Â  Â  Â  Â  Â  Â  { name: "ì—¼ì „í•´ë³€", type: "ìº í•‘", desc: "ì¡°ìš©í•œ í•´ë³€ì—ì„œì˜ ì°¨ë°• ìº í•‘" },
Â  Â  Â  Â  Â  Â  { name: "ê°•ë¦‰ì•ˆë°˜ë°ê¸°", type: "íŠ¸ë ˆí‚¹", desc: "ê³ ë­ì§€ ë°°ì¶”ë°­ê³¼ ìŸì•„ì§€ëŠ” ë³„" },Â 
Â  Â  Â  Â  Â  Â  { name: "ë‚¨í•­ì§„í•´ë³€(ì§šë¼ì¸)", type: "ë ˆí¬ì¸ ", desc: "ë°”ë‹¤ ìœ„ë¥¼ ê°€ë¥´ëŠ” ì§šë¼ì¸" },
Â  Â  Â  Â  Â  Â  { name: "ì •ë™ì§„ ë ˆì¼ë°”ì´í¬", type: "ì•¡í‹°ë¹„í‹°", desc: "ë°”ë‹¤ ì˜† ê¸°ì°»ê¸¸ ë ˆì¼ë°”ì´í¬" }
Â  Â  Â  Â  ],
Â  Â  Â  Â  "ë¯¸ìŠë­ ê°€ì´ë“œ ë¯¸ì‹ê°€": [
Â  Â  Â  Â  Â  Â  { name: "ê²Œë½", type: "ì¹´í˜", desc: "ë¡œìŠ¤íŒ… ê¸°ê³„ê°€ ìˆëŠ” ì»¤í”¼ ì „ë¬¸ì " },Â 
Â  Â  Â  Â  Â  Â  { name: "ê°•ë¬¸ì–´í™”íšŸì§‘", type: "ë§›ì§‘", desc: "ì‹ ì„ í•œ íšŒ í•œ ìƒ ì°¨ë¦¼" },Â 
Â  Â  Â  Â  Â  Â  { name: "ì—”ë“œíˆ¬ì•¤ë“œ", type: "ì¹´í˜", desc: "ì†Œë‚˜ë¬´ ì •ì›ì´ ë³´ì´ëŠ” í†µìœ ë¦¬ ì¹´í˜" },Â 
Â  Â  Â  Â  Â  Â  { name: "ë©”ë°€ê³¨ë™í•´ë§‰êµ­ìˆ˜", type: "ë§›ì§‘", desc: "ì‹œì›í•˜ê³  ê³ ì†Œí•œ ë§‰êµ­ìˆ˜" }
Â  Â  Â  Â  ],
Â  Â  Â  Â  "ì¸ì‹¸ íŒŒí‹° í”¼í”Œ": [
Â  Â  Â  Â  Â  Â  { name: "ê°•ë¦‰ ì£¼ë¬¸ì§„ì‹œì¥", type: "ì‹œì¥", desc: "ì‹±ì‹±í•œ í•´ì‚°ë¬¼ì´ ê°€ë“í•œ ì‹œì¥" },Â 
Â  Â  Â  Â  Â  Â  { name: "ê°•ë¦‰ ì¤‘ì•™ì‹œì¥", type: "ì‹œì¥", desc: "ë‹­ê°•ì •ê³¼ í˜¸ë–¡ ë“± ê¸¸ê±°ë¦¬ ìŒì‹" },Â 
Â  Â  Â  Â  Â  Â  { name: "ë²„ë“œë‚˜ë¬´ ë¸Œë£¨ì–´ë¦¬", type: "í", desc: "ì˜¤ë˜ëœ ì–‘ì¡°ì¥ ëŠë‚Œì˜ í" },Â 
Â  Â  Â  Â  Â  Â  { name: "ê°•ë¦‰ë„¤ì»·", type: "ë†€ê±°ë¦¬", desc: "ì¹œêµ¬ë“¤ê³¼ ì°ëŠ” ì¸ìƒë„¤ì»·" }
Â  Â  Â  Â  ],
Â  Â  Â  Â  "ë“œë¼ì´ë¸Œ ë§ˆìŠ¤í„°": [
Â  Â  Â  Â  Â  Â  { name: "í—Œí™”ë¡œ", type: "ë“œë¼ì´ë¸Œ", desc: "ë°”ë‹¤ ë°”ë¡œ ì˜†ì„ ë‹¬ë¦¬ëŠ” í•´ì•ˆ ë„ë¡œ" },
Â  Â  Â  Â  Â  Â  { name: "ì˜¥ê³„í•´ë³€", type: "ìì—°", desc: "ìš¸ì°½í•œ ì†¡ë¦¼ê³¼ ë„“ì€ ë°±ì‚¬ì¥" },
Â  Â  Â  Â  Â  Â  { name: "7ë²ˆ êµ­ë„", type: "ë“œë¼ì´ë¸Œ", desc: "ëì—†ì´ ì´ì–´ì§€ëŠ” ë™í•´ì•ˆ ë„ë¡œ" },
Â  Â  Â  Â  Â  Â  { name: "ì—¼ì „í•´ë³€", type: "ë“œë¼ì´ë¸Œ", desc: "ì ì‹œ ì°¨ë¥¼ ì„¸ìš°ê³  ë°”ë‹¤ ê°ìƒ" }
Â  Â  Â  Â  ],
Â  Â  Â  Â  "ë‚˜ë…¸ ë‹¨ìœ„ ê³„íšëŸ¬": [
Â  Â  Â  Â  Â  Â  { name: "ë“±ëª…í•´ë³€", type: "ëª…ì†Œ", desc: "ê¸°ì°»ê¸¸ ì˜† ë‚­ë§Œì ì¸ í•´ë³€ ì‚°ì±…ë¡œ" },
Â  Â  Â  Â  Â  Â  { name: "ì• ì‹œë‹¹ì´ˆ", type: "ì¹´í˜", desc: "ë ˆíŠ¸ë¡œ ê°ì„± ê°€ë“í•œ ì¸í…Œë¦¬ì–´ì™€ ì‹œê·¸ë‹ˆì²˜ ì»¤í”¼" },
Â  Â  Â  Â  Â  Â  { name: "ì˜¤ì£½í—Œ", type: "ë¬¸í™”", desc: "ê²€ì€ ëŒ€ë‚˜ë¬´ ìˆ²ê³¼ í•œì˜¥" },
Â  Â  Â  Â  Â  Â  { name: "í•˜ìŠ¬ë¼ì•„íŠ¸ì›”ë“œ", type: "ì˜ˆìˆ ", desc: "ë°”ë‹¤ê°€ ë³´ì´ëŠ” ì•¼ì™¸ ì¡°ê° ê³µì›" }
Â  Â  Â  Â  ],
Â  Â  Â  Â  "ì—¬ìœ ë¡œìš´ íë§ ìš”ì •": [
Â  Â  Â  Â  Â  Â  { name: "ëŒ€ê´€ë ¹ë°•ë¬¼ê´€", type: "ë¬¸í™”", desc: "ì‚°ì†ì— ìˆëŠ” ê³ ì¦ˆë„‰í•œ ë°•ë¬¼ê´€" },
Â  Â  Â  Â  Â  Â  { name: "ê°•ë¦‰ì»¤í”¼ë°•ë¬¼ê´€", type: "íœ´ì‹", desc: "ì»¤í”¼ í–¥ ê°€ë“í•œ ì „ì‹œê´€" },
Â  Â  Â  Â  Â  Â  { name: "êµ­ë¦½ëŒ€ê´€ë ¹ìì—°íœ´ì–‘ë¦¼", type: "ìì—°", desc: "ìš¸ì°½í•œ ì†Œë‚˜ë¬´ ìˆ²ê¸¸ ì‚°ì±…" },
Â  Â  Â  Â  Â  Â  { name: "ìˆœê¸‹í•´ë³€", type: "í•´ë³€", desc: "ì‚¬ëŒì´ ì ê³  ë¬¼ì´ ë§‘ì€ í•´ë³€" }
Â  Â  Â  Â  ]
Â  Â  };

Â  Â  // ë³€ìˆ˜ ì„¤ì •
Â  Â  const chatBox = document.getElementById('chat-box');
Â  Â  const inputArea = document.getElementById('input-area');
Â  Â  const actionArea = document.getElementById('action-area');
Â  Â  const headerTitle = document.getElementById('header-title');
Â  Â  const langBtn = document.getElementById('lang-btn');
Â  Â  const sendBtn = document.getElementById('send-btn');
Â  Â Â 
Â  Â  let isEnglish = false;
Â  Â  let step = 0;
Â  Â  let scores = [];
Â  Â  let resultType = "";

Â  Â  // ë‹¤êµ­ì–´ ë°ì´í„°
Â  Â  const langData = {
Â  Â  Â  Â  ko: {
Â  Â  Â  Â  Â  Â  title: "ğŸ”® ìœ¡ê°í˜• ì—¬í–‰ ìƒì„±ê¸°", btn: "ğŸ‡ºğŸ‡¸ EN",
Â  Â  Â  Â  Â  Â  intro: "ë°˜ê°‘ìŠµë‹ˆë‹¤! ğŸ‘‹<br>ë‹¹ì‹ ì˜ ì„±í–¥ì„ ë¶„ì„í•´ <b>'ìœ¡ê°í˜• ì—¬í–‰ ê³„íš'</b>ì„ ì§œë“œë¦´ê²Œìš”.",
Â  Â  Â  Â  Â  Â  intro2: "ì§ˆë¬¸ì„ ë³´ê³ , ë” ëŒë¦¬ëŠ” ìª½ìœ¼ë¡œ ì ìˆ˜ë¥¼ ì¡°ì ˆí•´ì£¼ì„¸ìš”.",
Â  Â  Â  Â  Â  Â  selectBtn: "ì„ íƒ ì™„ë£Œ",
Â  Â  Â  Â  Â  Â  analyzing: "ëª¨ë“  ë‹µë³€ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.<br>ë‹¹ì‹ ì˜ <b>ì—¬í–‰ ìœ¡ê°í˜•</b>ì„ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤... ğŸ§ ",
Â  Â  Â  Â  Â  Â  types: ["ë„ì‹œ í•«í”Œ íˆ¬ì–´ëŸ¬", "ìµìŠ¤íŠ¸ë¦¼ ì•¡í‹°ë¹„í‹° ëŸ¬ë²„", "ë¯¸ìŠë­ ê°€ì´ë“œ ë¯¸ì‹ê°€", "ì¸ì‹¸ íŒŒí‹° í”¼í”Œ", "ë“œë¼ì´ë¸Œ ë§ˆìŠ¤í„°", "ë‚˜ë…¸ ë‹¨ìœ„ ê³„íšëŸ¬"],
Â  Â  Â  Â  Â  Â  healing: "ì—¬ìœ ë¡œìš´ íë§ ìš”ì •",
Â  Â  Â  Â  Â  Â  resultMsg: (type) => `ë‹¹ì‹ ì˜ íƒ€ì…ì€...<br>âœ¨ <b>[${type}]</b> âœ¨ ì…ë‹ˆë‹¤!<br><br>ì¶”ì²œ ì½”ìŠ¤ë¥¼ í™•ì¸í•´ë³¼ê¹Œìš”?`,
Â  Â  Â  Â  Â  Â  healingMsg: (type) => `ë‹¹ì‹ ì€ <b>[${type}]</b> íƒ€ì…ì…ë‹ˆë‹¤.<br>ì•„ë¬´ê²ƒë„ ì•ˆ í•˜ê³  íë§í•˜ê³  ì‹¶ìœ¼ì‹œêµ°ìš”!`,
Â  Â  Â  Â  Â  Â  plan: "ğŸš— <b>ì¶”ì²œ ì—¬í–‰ ê³„íš</b>ì„ ìƒì„± ì¤‘ì…ë‹ˆë‹¤..."
Â  Â  Â  Â  },
Â  Â  Â  Â  en: {
Â  Â  Â  Â  Â  Â  title: "ğŸ”® Travel Hexagon", btn: "ğŸ‡°ğŸ‡· KO",
Â  Â  Â  Â  Â  Â  intro: "Hello! ğŸ‘‹<br>Let's find your <b>Travel Hexagon</b> style.",
Â  Â  Â  Â  Â  Â  intro2: "Adjust the slider based on your preference.",
Â  Â  Â  Â  Â  Â  selectBtn: "Submit",
Â  Â  Â  Â  Â  Â  analyzing: "Analyzing your <b>Travel DNA</b>... ğŸ§ ",
Â  Â  Â  Â  Â  Â  types: ["City Explorer", "Extreme Activity Lover", "Michelin Gourmand", "Party People", "Drive Master", "Nano Planner"],
Â  Â  Â  Â  Â  Â  healing: "Relaxing Fairy",
Â  Â  Â  Â  Â  Â  resultMsg: (type) => `Your type is...<br>âœ¨ <b>[${type}]</b> âœ¨!`,
Â  Â  Â  Â  Â  Â  healingMsg: (type) => `You are a <b>[${type}]</b>.`,
Â  Â  Â  Â  Â  Â  plan: "ğŸš— Generating <b>Travel Plan</b>..."
Â  Â  Â  Â  }
Â  Â  };

Â  Â  const questions = [
Â  Â  Â  Â  { q: "ì—¬í–‰ ë¶„ìœ„ê¸°ëŠ”?", q_en: "Atmosphere?", left: "ğŸŒ² ìì—°/íë§", left_en: "ğŸŒ² Nature", right: "ğŸ™ï¸ ë„ì‹œ/í•«í”Œ", right_en: "ğŸ™ï¸ City" },
Â  Â  Â  Â  { q: "ì—¬í–‰ ë°©ì‹ì€?", q_en: "Activity Level?", left: "ğŸ›Œ íœ´ì‹ ìœ„ì£¼", left_en: "ğŸ›Œ Relax", right: "ğŸ”¥ ì²´í—˜ ìœ„ì£¼", right_en: "ğŸ”¥ Active" },
Â  Â  Â  Â  { q: "ì—¬í–‰ ëª©ì ì€?", q_en: "Main Focus?", left: "ğŸ“¸ ì‚¬ì§„/ê°ì„±", left_en: "ğŸ“¸ Photo", right: "ğŸ½ï¸ ë§›ì§‘/ë¨¹ë°©", right_en: "ğŸ½ï¸ Food" },
Â  Â  Â  Â  { q: "ëˆ„êµ¬ì™€ í•¨ê»˜?", q_en: "Group Size?", left: "ğŸ¤« ì†Œìˆ˜/ì»¤í”Œ", left_en: "ğŸ¤« Small/Couple", right: "ğŸ‰ ë‹¤ìˆ˜/ì¹œêµ¬", right_en: "ğŸ‰ Party/Friends" },
Â  Â  Â  Â  { q: "êµí†µ ìˆ˜ë‹¨ì€?", q_en: "Transport?", left: "ğŸšŒ ëŒ€ì¤‘êµí†µ", left_en: "ğŸšŒ Public", right: "ğŸš— ìì°¨/ë ŒíŠ¸", right_en: "ğŸš— Car/Rent" },
Â  Â  Â  Â  { q: "ì¼ì • ë°€ë„ëŠ”?", q_en: "Schedule?", left: "ğŸ¢ ì—¬ìœ ë¡­ê²Œ", left_en: "ğŸ¢ Chill", right: "ğŸ‡ ë¹¡ë¹¡í•˜ê²Œ", right_en: "ğŸ‡ Tight" }
Â  Â  ];

Â  Â  window.onload = () => { startIntro(); };

Â  Â  function startIntro() {
Â  Â  Â  Â  chatBox.innerHTML = ""; step = 0; scores = [];
Â  Â  Â  Â  inputArea.style.display = 'flex'; actionArea.style.display = 'none';
Â  Â  Â  Â  const txt = isEnglish ? langData.en : langData.ko;
Â  Â  Â  Â  sendBtn.innerText = txt.selectBtn;
Â  Â  Â  Â  addMessage("bot", txt.intro);
Â  Â  Â  Â  setTimeout(() => { addMessage("bot", txt.intro2); setTimeout(nextQuestion, 800); }, 500);
Â  Â  }

Â  Â  function addMessage(sender, text) {
Â  Â  Â  Â  const div = document.createElement('div');
Â  Â  Â  Â  div.className = `message ${sender}-message`;
Â  Â  Â  Â  div.innerHTML = text;
Â  Â  Â  Â  chatBox.appendChild(div);
Â  Â  Â  Â  chatBox.scrollTop = chatBox.scrollHeight;
Â  Â  }

Â  Â  window.updateDisplay = function(val) { document.getElementById('current-val').innerText = val; }

Â  Â  window.submitAnswer = function() {
Â  Â  Â  Â  const val = parseInt(document.getElementById('range-slider').value);
Â  Â  Â  Â  scores.push(val);
Â  Â  Â  Â  addMessage('user', val);
Â  Â  Â  Â  step++;
Â  Â  Â  Â  if (step < questions.length) setTimeout(nextQuestion, 500);
Â  Â  Â  Â  else setTimeout(showResult, 500);
Â  Â  }

Â  Â  function nextQuestion() {
Â  Â  Â  Â  const q = questions[step];
Â  Â  Â  Â  addMessage('bot', `Q${step+1}. ${isEnglish ? q.q_en : q.q}`);
Â  Â  Â  Â  document.getElementById('label-left').innerText = isEnglish ? q.left_en : q.left;
Â  Â  Â  Â  document.getElementById('label-right').innerText = isEnglish ? q.right_en : q.right;
Â  Â  Â  Â  document.getElementById('range-slider').value = 5;
Â  Â  Â  Â  updateDisplay(5);
Â  Â  }

Â  Â  function showResult() {
Â  Â  Â  Â  inputArea.style.display = 'none';
Â  Â  Â  Â  const txt = isEnglish ? langData.en : langData.ko;
Â  Â  Â  Â  addMessage('bot', txt.analyzing);

Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  // 1. ê²°ê³¼ íƒ€ì… ë¶„ì„
Â  Â  Â  Â  Â  Â  let koreanTypeKey = ""; // ì´ë¯¸ì§€ ì°¾ê¸°ìš© í•œêµ­ì–´ í‚¤
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const isHealing = scores.every(s => s >= 4 && s <= 6);
Â  Â  Â  Â  Â  Â  if (isHealing) {
Â  Â  Â  Â  Â  Â  Â  Â  resultType = isEnglish ? langData.en.healing : langData.ko.healing;
Â  Â  Â  Â  Â  Â  Â  Â  koreanTypeKey = "ì—¬ìœ ë¡œìš´ íë§ ìš”ì •"; // íë§ íƒ€ì… ê³ ì • í‚¤
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  let maxVal = -1, maxIndex = 0;
Â  Â  Â  Â  Â  Â  Â  Â  scores.forEach((s, i) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const dist = Math.abs(s - 5);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (dist > maxVal) { maxVal = dist; maxIndex = i; }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  resultType = isEnglish ? langData.en.types[maxIndex] : langData.ko.types[maxIndex];
Â  Â  Â  Â  Â  Â  Â  Â  // ì˜ì–´ì¼ ê²½ìš° í•œêµ­ì–´ í‚¤ë¥¼ ì°¾ì•„ì•¼ í•¨
Â  Â  Â  Â  Â  Â  Â  Â  koreanTypeKey = langData.ko.types[maxIndex];Â 
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // 2. [í•µì‹¬] ê²°ê³¼ ì´ë¯¸ì§€ íƒœê·¸ ìƒì„±
Â  Â  Â  Â  Â  Â  // koreanTypeKeyë¥¼ ì´ìš©í•´ typeImagesì—ì„œ ì£¼ì†Œë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
Â  Â  Â  Â  Â  Â  const imgUrl = typeImages[koreanTypeKey] || "https://via.placeholder.com/400";Â 
Â  Â  Â  Â  Â  Â  const imgTag = `<img src="${imgUrl}" class="result-main-img"><br>`;

Â  Â  Â  Â  Â  Â  // 3. ë©”ì‹œì§€ ì¡°í•© (ì´ë¯¸ì§€ + í…ìŠ¤íŠ¸)
Â  Â  Â  Â  Â  Â  const resultMsg = isHealing ? txt.healingMsg(resultType) : txt.resultMsg(resultType);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // ë´‡ ë©”ì‹œì§€ë¡œ ì´ë¯¸ì§€ì™€ ê¸€ì„ í•œ ë²ˆì— ë³´ëƒ„
Â  Â  Â  Â  Â  Â  addMessage('bot', imgTag + resultMsg);

Â  Â  Â  Â  Â  Â  // 4. ë ˆì´ë” ì°¨íŠ¸ ê·¸ë¦¬ê¸°
Â  Â  Â  Â  Â  Â  const chartDiv = document.createElement('div');
Â  Â  Â  Â  Â  Â  chartDiv.id = 'chart-wrapper';
Â  Â  Â  Â  Â  Â  chartDiv.style.display = 'block';
Â  Â  Â  Â  Â  Â  chartDiv.innerHTML = '<canvas id="radarChart"></canvas>';
Â  Â  Â  Â  Â  Â  chatBox.appendChild(chartDiv);

Â  Â  Â  Â  Â  Â  new Chart(document.getElementById('radarChart'), {
Â  Â  Â  Â  Â  Â  Â  Â  type: 'radar',
Â  Â  Â  Â  Â  Â  Â  Â  data: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  labels: isEnglish ? ['Urban', 'Active', 'Food', 'Social', 'Car', 'Plan'] : ['ë„ì‹œì„±', 'í™œë™ì„±', 'ì‹ë„ë½', 'ì‚¬êµì„±', 'í¸ì˜ì„±', 'ê³„íšì„±'],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  datasets: [{
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  label: 'My Style', data: scores,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  backgroundColor: 'rgba(3, 199, 90, 0.2)', borderColor: '#03C75A', pointBackgroundColor: '#008f3d'
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }]
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  options: { scales: { r: { min: 0, max: 10, ticks: { display: false } } }, plugins: { legend: { display: false } } }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  chatBox.scrollTop = chatBox.scrollHeight;
Â  Â  Â  Â  Â  Â  actionArea.style.display = 'block';
Â  Â  Â  Â  }, 1500);
Â  Â  }

Â  Â  // ---------------------------------------------------------
Â  Â  // â˜… ì¶”ì²œ ë¡œì§: ì§€ë„ì™€ ì‚¬ì§„ì„ "ë²„íŠ¼"ìœ¼ë¡œ ì œê³µ
Â  Â  // ---------------------------------------------------------
Â  Â  window.recommendPlan = function() {
Â  Â  Â  Â  actionArea.style.display = 'none';
Â  Â  Â  Â  const txt = isEnglish ? langData.en : langData.ko;
Â  Â  Â  Â  addMessage('bot', txt.plan);

Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  let searchKey = resultType;
Â  Â  Â  Â  Â  Â  if(isEnglish) {
Â  Â  Â  Â  Â  Â  Â  Â  const enIndex = langData.en.types.indexOf(resultType);
Â  Â  Â  Â  Â  Â  Â  Â  if(enIndex !== -1) searchKey = langData.ko.types[enIndex];
Â  Â  Â  Â  Â  Â  Â  Â  else if(resultType === langData.en.healing) searchKey = langData.ko.healing;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const places = recommendationData[searchKey];

Â  Â  Â  Â  Â  Â  if (places) {
Â  Â  Â  Â  Â  Â  Â  Â  const shuffled = [...places].sort(() => 0.5 - Math.random());
Â  Â  Â  Â  Â  Â  Â  Â  const selected = shuffled.slice(0, 3);

Â  Â  Â  Â  Â  Â  Â  Â  let msg = `<b>[${resultType}]</b> ${isEnglish ? "Course:" : "ì¶”ì²œ ì½”ìŠ¤:"}<br><br>`;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  selected.forEach((p, i) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  msg += `<b>${i+1}. ${p.name}</b> <small style='color:#03C75A'>(${p.type})</small><br>`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  msg += `<span style='color:#555; font-size:0.9em; display:block; margin-bottom:5px;'>${p.desc}</span>`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // [ë²„íŠ¼ ê·¸ë£¹] ì§€ë„ ë³´ê¸° + ì‚¬ì§„ ë³´ê¸°
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  msg += `<div class="btn-group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <a href="https://map.naver.com/v5/search/${encodeURIComponent(p.name)}" target="_blank" class="link-btn map-btn">ğŸ—ºï¸ ë„¤ì´ë²„ ì§€ë„</a>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <a href="https://www.google.com/search?tbm=isch&q=ê°•ë¦‰+${p.name}" target="_blank" class="link-btn photo-btn">ğŸ“¸ ì‹¤ì œ ì‚¬ì§„</a>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div><br>`;
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  addMessage('bot', msg);
Â  Â  Â  Â  Â  Â  Â  Â  addMessage('bot', isEnglish ? "How is this plan? ğŸ˜‰" : "ì´ ì½”ìŠ¤ë¡œ ë– ë‚˜ë³´ëŠ” ê±´ ì–´ë•Œìš”? ğŸ˜‰");
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }, 1500);
Â  Â  }
Â  Â Â 
Â  Â  window.toggleLanguage = function() {
Â  Â  Â  Â  isEnglish = !isEnglish;
Â  Â  Â  Â  langBtn.innerText = isEnglish ? langData.en.btn : langData.ko.btn;
Â  Â  Â  Â  document.getElementById('header-title').innerText = isEnglish ? langData.en.title : langData.ko.title;
Â  Â  Â  Â  startIntro();
Â  Â  }
</script>
</body>
</html>
